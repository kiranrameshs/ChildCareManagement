package edu.neu.csye6200.daycare;

import java.time.LocalDate;
import java.util.Iterator;
import java.util.List;
import java.util.Scanner;
import java.util.Vector;

public class StudentFactory {
	private static StudentFactory instance = null;
	private static int studentCount = 0;
	private StudentFactory() {
	}
	
	public static StudentFactory getObj() {
		if (instance == null) {
			instance = new StudentFactory();
		}
		return instance;
	}
	
	public  List<Student> initStudentObj (List<String> data) {
		studentCount +=1;
		String[] eachLine = null;
		List<Student> studentList =  new Vector<Student>();
		Iterator<String> it = data.iterator();
			while(it.hasNext()) {
				eachLine = it.next().split(",");
				String firstName         	=eachLine[0];
				String lastName          	=eachLine[1];
				String address          	=eachLine[2];
				int age            			=new Integer(eachLine[3]);
				String phoneNumber          =eachLine[4];
				String parentName          	=eachLine[5];
				studentList.add(new Student(firstName, lastName, address, age, phoneNumber, studentCount, parentName, null, LocalDate.now())); 
					} 
			return studentList;
	}
	
	public static Student getStudentObj (String data) {
		Scanner scanStudent = new Scanner(data);
		scanStudent.useDelimiter(",");
				String firstName         	=scanStudent.next();
				String lastName          	=scanStudent.next();
				String address          	=scanStudent.next();
				int age            			=scanStudent.nextInt();
				String phoneNumber          =scanStudent.next();
				int studentID            		=scanStudent.nextInt();
				String parentName          	=scanStudent.next();
				Student studentObj = new Student(firstName, lastName, address, age, phoneNumber, studentID, parentName, null, LocalDate.now());
				scanStudent.close();
		return studentObj;
		}
}

	